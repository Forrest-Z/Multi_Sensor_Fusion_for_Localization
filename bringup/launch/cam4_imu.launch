<launch>
    <!-- 发布标定好的tf -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="lidar_to_cam1" args="0.0126334  0.0915393 -0.0265522 2.37246  3.1336 1.59304 velodyne camera1_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="lidar_to_cam2" args="-0.0872598  0.0130602 -0.0418202   0.825525 -0.0179668   -1.60677 velodyne camera2_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="lidar_to_cam3" args="-0.0129798 -0.0893272 -0.0376506    2.3796 -0.027479  -1.58396 velodyne camera3_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="lidar_to_cam4" args="0.101262 -0.00823666  -0.0560857 0.811597 -3.13058   1.5383 velodyne camera4_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="cam4_to_imu" args="0.020, -0.005, -0.012 0.005, 0.006, -0.004 camera4_color_optical_frame camera4_imu_optical_frame" />
    
    <arg name="serial_no" default="043322070573"/>
    <arg name="usb_port_id" default=""/>
    <arg name="device_type" default=""/>
    <arg name="json_file_path" default=""/>
    <arg name="camera" default="camera4"/>
    <arg name="tf_prefix" default="$(arg camera)"/>
    <arg name="external_manager" default="false"/>
    <arg name="manager" default="realsense2_camera_manager"/>
    <arg name="output" default="screen"/>

    <arg name="fisheye_width" default="640"/>
    <arg name="fisheye_height" default="480"/>
    <arg name="enable_fisheye" default="false"/>

    <arg name="depth_width" default="640"/>
    <arg name="depth_height" default="480"/>
    <arg name="enable_depth" default="false"/>

    <arg name="confidence_width" default="640"/>
    <arg name="confidence_height" default="480"/>
    <arg name="enable_confidence" default="false"/>
    <arg name="confidence_fps" default="30"/>

    <arg name="infra_width" default="640"/>
    <arg name="infra_height" default="480"/>
    <arg name="enable_infra" default="false"/>
    <arg name="enable_infra1" default="false"/>
    <arg name="enable_infra2" default="false"/>
    <arg name="infra_rgb" default="false"/>

    <arg name="color_width" default="320"/>
    <arg name="color_height" default="240"/>
    <arg name="enable_color" default="true"/>

    <arg name="fisheye_fps" default="30"/>
    <arg name="depth_fps" default="30"/>
    <arg name="infra_fps" default="30"/>
    <arg name="color_fps" default="30"/>
    <arg name="gyro_fps" default="400"/>
    <arg name="accel_fps" default="250"/>
    <arg name="enable_gyro" default="true"/>
    <arg name="enable_accel" default="true"/>

    <arg name="enable_pointcloud" default="false"/>
    <arg name="pointcloud_texture_stream" default="RS2_STREAM_COLOR"/>
    <arg name="pointcloud_texture_index" default="0"/>

    <arg name="enable_sync" default="false"/>
    <arg name="align_depth" default="false"/>
    
    <!-- 不发布tf -->
    <arg name="publish_tf" default="false"/>
    <arg name="tf_publish_rate" default="0"/>

    <arg name="filters" default=""/>
    <arg name="clip_distance" default="-2"/>
    <arg name="linear_accel_cov" default="0.01"/>
    <arg name="initial_reset" default="false"/>
    <!-- 插值法合成一个话题 -->
    <arg name="unite_imu_method" default="linear_interpolation"/>
    <arg name="topic_odom_in" default="odom_in"/>
    <arg name="calib_odom_file" default=""/>
    <arg name="publish_odom_tf" default="true"/>
    <arg name="allow_no_texture_points" default="false"/>

    <group ns="$(arg camera)">
        <include file="$(find bringup)/launch/include/nodelet.launch.xml">
            <arg name="tf_prefix" value="$(arg tf_prefix)"/>
            <arg name="external_manager" value="$(arg external_manager)"/>
            <arg name="manager" value="$(arg manager)"/>
            <arg name="output" value="$(arg output)"/>
            <arg name="serial_no" value="$(arg serial_no)"/>
            <arg name="usb_port_id" value="$(arg usb_port_id)"/>
            <arg name="device_type" value="$(arg device_type)"/>
            <arg name="json_file_path" value="$(arg json_file_path)"/>

            <arg name="enable_pointcloud" value="$(arg enable_pointcloud)"/>
            <arg name="pointcloud_texture_stream" value="$(arg pointcloud_texture_stream)"/>
            <arg name="pointcloud_texture_index" value="$(arg pointcloud_texture_index)"/>
            <arg name="enable_sync" value="$(arg enable_sync)"/>
            <arg name="align_depth" value="$(arg align_depth)"/>

            <arg name="fisheye_width" value="$(arg fisheye_width)"/>
            <arg name="fisheye_height" value="$(arg fisheye_height)"/>
            <arg name="enable_fisheye" value="$(arg enable_fisheye)"/>

            <arg name="depth_width" value="$(arg depth_width)"/>
            <arg name="depth_height" value="$(arg depth_height)"/>
            <arg name="enable_depth" value="$(arg enable_depth)"/>

            <arg name="confidence_width" value="$(arg confidence_width)"/>
            <arg name="confidence_height" value="$(arg confidence_height)"/>
            <arg name="enable_confidence" value="$(arg enable_confidence)"/>
            <arg name="confidence_fps" value="$(arg confidence_fps)"/>

            <arg name="color_width" value="$(arg color_width)"/>
            <arg name="color_height" value="$(arg color_height)"/>
            <arg name="enable_color" value="$(arg enable_color)"/>

            <arg name="infra_width" value="$(arg infra_width)"/>
            <arg name="infra_height" value="$(arg infra_height)"/>
            <arg name="enable_infra" value="$(arg enable_infra)"/>
            <arg name="enable_infra1" value="$(arg enable_infra1)"/>
            <arg name="enable_infra2" value="$(arg enable_infra2)"/>
            <arg name="infra_rgb" value="$(arg infra_rgb)"/>

            <arg name="fisheye_fps" value="$(arg fisheye_fps)"/>
            <arg name="depth_fps" value="$(arg depth_fps)"/>
            <arg name="infra_fps" value="$(arg infra_fps)"/>
            <arg name="color_fps" value="$(arg color_fps)"/>
            <arg name="gyro_fps" value="$(arg gyro_fps)"/>
            <arg name="accel_fps" value="$(arg accel_fps)"/>
            <arg name="enable_gyro" value="$(arg enable_gyro)"/>
            <arg name="enable_accel" value="$(arg enable_accel)"/>

            <arg name="publish_tf" value="$(arg publish_tf)"/>
            <arg name="tf_publish_rate" value="$(arg tf_publish_rate)"/>

            <arg name="filters" value="$(arg filters)"/>
            <arg name="clip_distance" value="$(arg clip_distance)"/>
            <arg name="linear_accel_cov" value="$(arg linear_accel_cov)"/>
            <arg name="initial_reset" value="$(arg initial_reset)"/>
            <arg name="unite_imu_method" value="$(arg unite_imu_method)"/>
            <arg name="topic_odom_in" value="$(arg topic_odom_in)"/>
            <arg name="calib_odom_file" value="$(arg calib_odom_file)"/>
            <arg name="publish_odom_tf" value="$(arg publish_odom_tf)"/>
            <arg name="allow_no_texture_points" value="$(arg allow_no_texture_points)"/>
        </include>
    </group>
</launch>
